|这个作业属于哪个课程|https://edu.cnblogs.com/campus/fzu/2022OOP/|
|-- |-- |
|这个作业要求在哪里|https://edu.cnblogs.com/campus/fzu/2022OOP/homework/12442|
|这个作业的目标|用C语言完成包分类程序|
|作业正文|学习内容：基础的匹配方式在作业要求中已经明白了，但是规则集的ip位数并没有细讲。以及以前并没有使用过C语言的程序处理文件，也要现学。还有如何通过执行`./main <规则集文件名> <数据集文件名>`运行程序.<br><br>学习过程：查百度，看翁恺，问基友<br><br>设计思路：0、判断文件指针是否为空指针，如果是直接停止运行。1、读入数据集文件。2、循环读入规则集文件。3、将规则集点分十进制ip转换为十进制地址以匹配。4、端口匹配及协议匹配。5、循环以上步骤。<br>关键代码：`fscanf(packet, "%d %d %d %d %d\n", &packet_ip[0], &packet_ip[1], &packet_port[0], &packet_port[1], &packet_protocol);`（别问我为什么这行是关键代码，问就是我犯的最傻但是最难找的错误就在这行）<br><br>完整代码及使用说明：[点我进入Github](https://github.com/YuxZhixJiang/YuxZhixJiang/tree/homework)<br>代码2.0版本：修复了0.0.0.0/0匹配的bug，修复了端口不为0xFF匹配的bug。<br>代码3.0版本：优化了8个字节的内存占用，但程序运行时间有小幅度的增加。增加了程序运行的计时功能。<br>代码4.0版本：增加了对Windows平台的支持！<br><br>dataset1/packet1.txt的运行结果也在Github，kali虚拟机环境下运行时间约3s，Windows物理机环境下运行时间约14s（Windows什么毛病，物理机干不过虚拟机）。<br>代码优化：这个应该已经是我目前能想的最方便的代码了吧，或许还能通过更改一下读入方式优化一下内存占用。<br><br>困难：找bug<br>解决困难：调试<br>未解决困难：目前对于dataset1/packet1.txt的运行结果~~仍有201条不同，晚点再找bug吧，累了。~~ 已解决！res.txt与ans1.txt完全相同！<br>收获：-n根头发，学了些文件处理命令，cidr相关知识。|
|其他参考文献|万能好基友<br>https://www.cnblogs.com/lanhaicode/p/10320097.html<br>https://blog.csdn.net/qq_43141726/article/details/105520510|